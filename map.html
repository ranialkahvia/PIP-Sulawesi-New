<!DOCTYPE html>
<html lang="en">

<head>
    <title>üìçPeta Penyaluran PIP</title>

    <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css"><link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-control-geocoder.Geocoder.css">
        <link rel="stylesheet" href="css/styles.css">
        
        <style>
        #map {
            width: 1200px;
            height: 700px;
        }
        </style>

    <!-- Including the bootstrap css via CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

    <!-- Font Awesome -->
    <!-- <script
      src="https://kit.fontawesome.com/67d1bd2e9b.js0"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    /> -->

    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Bootstrap Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <link id="external-css" rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap" media="all">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-center">
        <ul class="navbar-nav">
            <h1 class="text-light bg-dark"><marquee class="marque" behaviour ="scroll" direction="left"><h1>Peta Penyaluran Progam Indonesia Pintar (PIP) Semua Jenjang di Seluruh Kabupaten Kota Pulau Sulawesi Tahun 2022</h1></marquee></h1>
        </ul>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-default bg-default justify-content-center">
        <ul class="navbar-nav">
            <li class="nav-item ">
                <a class="nav-link" href="./index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="./map.html">Map</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./about.html">About</a>
            </li>
        </ul>
    </nav>

    <!-- Content -->

    <div id="map">
    </div>

    <div id="legend" style="position:absolute; top:180px; right:20px; width:220px; height:680px;">

        <div id="gambar">
        <img src="https://png.pngtree.com/png-clipart/20220911/original/pngtree-arah-mata-angin-png-image_8541159.png" style="width: 70px; height: 70px;">
        </div>
    
        <p class="text2"><b>Legenda</b></p>
        <div style="background-color:#da4293; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Gorontalo</div><br>
        <div style="background-color:#9c37db; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Sulawesi Barat</div><br>
        <div style="background-color:#45e24d; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Sulawesi Selatan</div><br>
        <div style="background-color:#c4d872; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Sulawesi Tengah</div><br>
        <div style="background-color:#4868d3; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Sulawesi Tenggara</div><br>
        <div style="background-color:#4ad8ca; width:20px; height:20px; display:inline-block; margin-top: 3px; margin-right: 5px;"></div><div class="prov">Sulawesi Utara</div><br>

        <p class="text2"><b>Diperiksa oleh</b></p>
        <p class="text3">Hidayat Panuntun, S.T., M.eng.,D.Sc.</p>

        <p class="text2"><b>Pembuat</b></p>
        <p class="text">Rani Alkahvia</p>
        <p class="text">21/481395/SV/19774</p>

        <img src="https://kolonginfo.com/wp-content/uploads/2020/09/Logo-Tengah-Stack-Up-e1600829352478.jpg" style="width: 180px; height: 100px;">
        <p class="text">TSPD</p>
        <p class="text">Sekolah Vokasi</p>
        <p class="text">Universitas Gadjah Mada</p>
        <p class="text">2023</p>
    </div>

    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script><script src="js/L.Control.Locate.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet-control-geocoder.Geocoder.js"></script>
    <script src="data/Sulawesi_2.js"></script>
    <script>
    
    var highlightLayer;
    function highlightFeature(e) {
        highlightLayer = e.target;

        if (e.target.feature.geometry.type === 'LineString') {
          highlightLayer.setStyle({
            color: '#ffff00',
          });
        } else {
          highlightLayer.setStyle({
            fillColor: '#ffff00',
            fillOpacity: 1
          });
        }
        highlightLayer.openPopup();
    }
    var map = L.map('map', {
        zoomControl:true, maxZoom:28, minZoom:1
    }).fitBounds([[-9.381178417804506,109.46245025363669],[4.609815780569117,136.11024590466275]]);
    var hash = new L.Hash(map);
    map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
    var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
    L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
    var bounds_group = new L.featureGroup([]);
    function setBounds() {
    }
    map.createPane('pane_OpenStreetMap_0');
    map.getPane('pane_OpenStreetMap_0').style.zIndex = 400;
    var layer_OpenStreetMap_0 = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        pane: 'pane_OpenStreetMap_0',
        opacity: 1.0,
        attribution: '',
        minZoom: 1,
        maxZoom: 28,
        minNativeZoom: 0,
        maxNativeZoom: 19
    });
    layer_OpenStreetMap_0;
    map.addLayer(layer_OpenStreetMap_0);
    map.createPane('pane_GoogleMaps_1');
    map.getPane('pane_GoogleMaps_1').style.zIndex = 401;
    var layer_GoogleMaps_1 = L.tileLayer('https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
        pane: 'pane_GoogleMaps_1',
        opacity: 1.0,
        attribution: '',
        minZoom: 1,
        maxZoom: 28,
        minNativeZoom: 0,
        maxNativeZoom: 18
    });
    layer_GoogleMaps_1;
    map.addLayer(layer_GoogleMaps_1);
    function pop_Sulawesi_2(feature, layer) {
        layer.on({
            mouseout: function(e) {
                for (i in e.target._eventParents) {
                    e.target._eventParents[i].resetStyle(e.target);
                }
                if (typeof layer.closePopup == 'function') {
                    layer.closePopup();
                } else {
                    layer.eachLayer(function(feature){
                        feature.closePopup()
                    });
                }
            },
            mouseover: highlightFeature,
        });
        var popupContent = '<table>\
                <tr>\
                    <td colspan="2">' + (feature.properties['KAB_KOTA'] !== null ? autolinker.link(feature.properties['KAB_KOTA'].toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <th scope="row">Disalurkan</th>\
                    <td>' + (feature.properties['Disalurkan'] !== null ? autolinker.link(feature.properties['Disalurkan'].toLocaleString()) : '') + '</td>\
                </tr>\
                <tr>\
                    <th scope="row">Pemberian</th>\
                    <td>' + (feature.properties['Pemberian'] !== null ? autolinker.link(feature.properties['Pemberian'].toLocaleString()) : '') + '</td>\
                </tr>\
            </table>';
        layer.bindPopup(popupContent, {maxHeight: 400});
    }

    function style_Sulawesi_2_0(feature) {
        switch(String(feature.properties['q2wHide_Provinsi'])) {
            case 'Gorontalo':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(218,66,147,1.0)',
            interactive: true,
        }
                break;
            case 'Sulbar':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(156,55,219,1.0)',
            interactive: true,
        }
                break;
            case 'SulSel':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(69,226,77,1.0)',
            interactive: true,
        }
                break;
            case 'Sulteng':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(196,216,114,1.0)',
            interactive: true,
        }
                break;
            case 'Sultengg':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(72,104,211,1.0)',
            interactive: true,
        }
                break;
            case 'Sulut':
                return {
            pane: 'pane_Sulawesi_2',
            opacity: 1,
            color: 'rgba(35,35,35,1.0)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0, 
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(74,216,202,1.0)',
            interactive: true,
        }
                break;
        }
    }
    map.createPane('pane_Sulawesi_2');
    map.getPane('pane_Sulawesi_2').style.zIndex = 402;
    map.getPane('pane_Sulawesi_2').style['mix-blend-mode'] = 'normal';
    var layer_Sulawesi_2 = new L.geoJson(json_Sulawesi_2, {
        attribution: '',
        interactive: true,
        dataVar: 'json_Sulawesi_2',
        layerName: 'layer_Sulawesi_2',
        pane: 'pane_Sulawesi_2',
        onEachFeature: pop_Sulawesi_2,
        style: style_Sulawesi_2_0,
    });
    bounds_group.addLayer(layer_Sulawesi_2);
    map.addLayer(layer_Sulawesi_2);
    var osmGeocoder = new L.Control.Geocoder({
        collapsed: true,
        position: 'topleft',
        text: 'Search',
        title: 'Testing'
    }).addTo(map);
    document.getElementsByClassName('leaflet-control-geocoder-icon')[0]
    .className += ' fa fa-search';
    document.getElementsByClassName('leaflet-control-geocoder-icon')[0]
    .title += 'Search for a place';
    var baseMaps = {};
    L.control.layers(baseMaps,{'Sulawesi<br /><table><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_Gorontalo0.png" /></td><td>Gorontalo</td></tr><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_Sulbar1.png" /></td><td>Sulbar</td></tr><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_SulSel2.png" /></td><td>SulSel</td></tr><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_Sulteng3.png" /></td><td>Sulteng</td></tr><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_Sultengg4.png" /></td><td>Sultengg</td></tr><tr><td style="text-align: center;"><img src="legend/Sulawesi_2_Sulut5.png" /></td><td>Sulut</td></tr></table>': layer_Sulawesi_2,"Google Maps": layer_GoogleMaps_1,"OpenStreetMap": layer_OpenStreetMap_0,},{collapsed:false}).addTo(map);
    setBounds();
    </script>
</body>
</html>
